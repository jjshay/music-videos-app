<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gauntlet Gallery — Video Overlay Tool</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <div class="brand">
      <a href="/music-video.html" style="float:right; font-size:0.8rem; color:#c9a227; text-decoration:none; font-family:Futura,'Trebuchet MS',sans-serif; letter-spacing:1px;">Music Video Creator</a>
      <h1>GAUNTLET GALLERY</h1>
      <span class="subtitle">Video Overlay Tool</span>
    </div>
  </header>

  <main>
    <!-- Step 1: Upload -->
    <section id="step-upload" class="step active">
      <div class="step-header">
        <span class="step-number">1</span>
        <h2>Upload Video</h2>
      </div>
      <div id="drop-zone" class="drop-zone">
        <div class="drop-zone-content">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#c9a227" stroke-width="1.5">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="17 8 12 3 7 8"/>
            <line x1="12" y1="3" x2="12" y2="15"/>
          </svg>
          <p>Drag & drop your video here</p>
          <p class="hint">MOV, MP4, M4V — up to 2 GB</p>
          <button id="btn-browse" class="btn btn-secondary">Browse Files</button>
          <input type="file" id="file-input" accept=".mov,.mp4,.m4v,.avi" hidden>
        </div>
        <div id="upload-progress" class="progress-bar" hidden>
          <div class="progress-fill"></div>
          <span class="progress-text">Uploading...</span>
        </div>
      </div>
      <div id="video-info" class="info-panel" hidden></div>
    </section>

    <!-- Step 2: Analyze -->
    <section id="step-analyze" class="step" hidden>
      <div class="step-header">
        <span class="step-number">2</span>
        <h2>AI Analysis</h2>
      </div>
      <button id="btn-analyze" class="btn btn-primary">Analyze with Claude Vision</button>
      <div id="analyze-status" class="status-message" hidden></div>
      <div id="analysis-results" hidden>
        <h3>Artwork Analysis</h3>
        <div class="analysis-grid" id="analysis-fields"></div>
      </div>
    </section>

    <!-- Step 3: Timeline -->
    <section id="step-timeline" class="step" hidden>
      <div class="step-header">
        <span class="step-number">3</span>
        <h2>Overlay Timeline</h2>
      </div>
      <div id="timeline-bar" class="timeline-bar"></div>
      <div id="callout-editor" class="callout-editor"></div>
      <div class="music-section">
        <h3>Background Music</h3>
        <div class="music-controls">
          <label class="radio-label">
            <input type="radio" name="music" value="default" checked>
            <span>Luxury of Wisdom — DJ Ronaldo</span>
          </label>
          <label class="radio-label">
            <input type="radio" name="music" value="custom">
            <span>Upload custom track</span>
          </label>
          <input type="file" id="music-input" accept=".mp3,.wav,.m4a" hidden>
          <span id="music-filename" class="music-filename"></span>
        </div>
      </div>
    </section>

    <!-- Step 4: Render -->
    <section id="step-render" class="step" hidden>
      <div class="step-header">
        <span class="step-number">4</span>
        <h2>Render</h2>
      </div>
      <button id="btn-render" class="btn btn-primary btn-large">Render Final Video</button>
      <div id="render-progress" hidden>
        <div class="progress-stages">
          <div class="stage" id="stage-overlays">
            <span class="stage-label">Overlays</span>
            <div class="progress-bar"><div class="progress-fill"></div></div>
          </div>
          <div class="stage" id="stage-intro">
            <span class="stage-label">Intro</span>
            <div class="progress-bar"><div class="progress-fill"></div></div>
          </div>
          <div class="stage" id="stage-composite">
            <span class="stage-label">Composite</span>
            <div class="progress-bar"><div class="progress-fill"></div></div>
          </div>
        </div>
        <p id="render-status-text" class="status-message"></p>
      </div>
      <div id="download-section" hidden>
        <a id="download-link" class="btn btn-primary btn-large" download>Download Final Video</a>
      </div>
    </section>
  </main>

  <footer>
    <p>Gauntlet Gallery &mdash; JJ Shay</p>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
